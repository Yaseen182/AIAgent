



# Observability for AI Agent

## 1. Tool Chosen
**Langfuse** I chose for the following reasons:
- **Python Integration**: Works seamlessly with Python-based AI Agents.
- **Automatic Logging**: Captures input, output, selected tool, and execution time.
- **Dashboard**: Provides a clear interface to visualize spans, traces, and metrics.
- **Supports Multi-tool Agents**: Perfect for advanced AI Agents using multiple tools like calculator, joke generator, and word count.

## 2. Integration Steps
1. Install Langfuse Python SDK:
```bash
pip install langfuse
````

2. Initialize the Langfuse client in the AI Agent:

```python
from langfuse import get_client
lf = get_client()
```

3. Wrap each Agent execution inside a Span to capture observability data:

```python
with lf.start_as_current_observation(
    as_type="span",
    name="auto-tool-agent",
    input={"question": question}
) as span:
    answer = ai_agent_logic(question)
    span.update(
        output={"answer": answer, "selected_tool": selected_tool},
        metadata={"execution_time_seconds": duration}
    )
```

4. Ensure spans are sent to Langfuse:

```python
lf.flush()
```

## 3. Captured Data

The following data is logged for each Agent invocation:

* **Input**: The question provided by the user.
* **Output**: The answer generated by the Agent.
* **Selected Tool**: Which tool the Agent chose to process the question.
* **Execution Time**: Duration taken to compute the answer (in seconds).

## 4. Observability Workflow

1. User inputs a question via the console.
2. Agent automatically selects the appropriate tool based on the input.
3. Agent executes the tool and generates an answer.
4. Langfuse records all relevant data as a span.
5. Data is visualized in the Langfuse Dashboard for monitoring, debugging, and analysis.

## Notes

* The Agent is extensible: additional tools can be added easily, and all operations are automatically tracked.
* Video recording of the Agent in action can demonstrate the captured logs and metrics on the Langfuse Dashboard.





